(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[524],{63551:(e,t,r)=>{Promise.resolve().then(r.bind(r,5098)),Promise.resolve().then(r.bind(r,86029)),Promise.resolve().then(r.bind(r,8102)),Promise.resolve().then(r.bind(r,31641)),Promise.resolve().then(r.t.bind(r,48173,23))},5098:(e,t,r)=>{"use strict";r.d(t,{SendReengagementEmailButton:()=>o});var n=r(95155),a=r(12115),i=r(14085),s=r(75828);let l=(0,s.createServerReference)("60801f958c5c2cd740f6d50ccb360f01b5977ffb89",s.callServer,void 0,s.findSourceMapURL,"triggerAiFollowUpAction");function o(e){let{accountId:t,context:r}=e,[s,o]=(0,a.useTransition)(),[d,c]=(0,a.useState)("");return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(i.$,{variant:"outline",className:"w-full justify-start",disabled:s,onClick:()=>{o(async()=>{let e=await l(t,r||{});if(e.error){alert(e.error);return}c(e.email_body||""),alert("AI follow-up generated and logged")})},children:s?"Generatingâ€¦":"Send Re-engagement Email"}),d&&(0,n.jsxs)("div",{className:"text-xs p-2 border rounded-md bg-slate-50 dark:bg-slate-900/30",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsx)("div",{className:"font-semibold",children:"Preview"}),(0,n.jsx)(i.$,{variant:"secondary",size:"sm",onClick:async()=>{try{await navigator.clipboard.writeText(d),alert("Copied to clipboard")}catch(e){alert("Copy failed")}},children:"Copy"})]}),(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300",children:d})]})]})}},86029:(e,t,r)=>{"use strict";r.d(t,{PlanProgress:()=>s,SentimentSparkline:()=>i,Sparkline:()=>a});var n=r(95155);function a(e){let{data:t,width:r=160,height:a=40,stroke:i="#3b82f6"}=e;if(!t||0===t.length)return(0,n.jsx)("div",{className:"text-xs text-slate-500",children:"No data"});let s=Math.max(...t),l=Math.min(...t),o=s-l||1,d=t.map((e,n)=>{let i=n/(t.length-1)*r;return"".concat(i,",").concat(a-(e-l)/o*a)}).join(" ");return(0,n.jsx)("svg",{width:r,height:a,className:"overflow-visible",children:(0,n.jsx)("polyline",{fill:"none",stroke:i,strokeWidth:2,points:d})})}function i(e){let{scores:t,width:r=160,height:a=40}=e,i=e=>e<-.2?"#ef4444":e>.2?"#10b981":"#6b7280";if(!t||0===t.length)return(0,n.jsx)("div",{className:"text-xs text-slate-500",children:"No data"});let s=Math.max(...t),l=Math.min(...t),o=s-l||1,d=t.map((e,n)=>({x:n/(t.length-1)*r,y:a-(e-l)/o*a,v:e})),c=d.map(e=>"".concat(e.x,",").concat(e.y)).join(" ");return(0,n.jsxs)("svg",{width:r,height:a,children:[(0,n.jsx)("polyline",{fill:"none",stroke:"#6b7280",strokeWidth:2,points:c}),d.map((e,t)=>(0,n.jsx)("circle",{cx:e.x,cy:e.y,r:2,fill:i(e.v)},t))]})}function s(e){let{completed:t,total:r,width:a=160,height:i=8}=e,s=r>0?Math.round(t/r*100):0;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{style:{width:a,height:i},className:"bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,n.jsx)("div",{style:{width:"".concat(s,"%"),height:i},className:"bg-green-500"})}),(0,n.jsxs)("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:[t,"/",r]})]})}r(12115)},14085:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var n=r(95155),a=r(12115),i=r(12317),s=r(31027),l=r(29602);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:a,size:s,className:r})),ref:t,...c})});d.displayName="Button"},8102:(e,t,r)=>{"use strict";r.d(t,{Separator:()=>c});var n=r(95155),a=r(12115),i=r(23360),s="horizontal",l=["horizontal","vertical"],o=a.forwardRef((e,t)=>{let{decorative:r,orientation:a=s,...o}=e,d=l.includes(a)?a:s;return(0,n.jsx)(i.sG.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var d=r(29602);let c=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:i=!0,...s}=e;return(0,n.jsx)(o,{ref:t,decorative:i,orientation:a,className:(0,d.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...s})});c.displayName=o.displayName},31641:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>l,TabsContent:()=>c,TabsList:()=>o,TabsTrigger:()=>d});var n=r(95155),a=r(12115),i=r(42799),s=r(29602);let l=i.bL,o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.B8,{ref:t,className:(0,s.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...a})});o.displayName=i.B8.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.l9,{ref:t,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...a})});d.displayName=i.l9.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.UC,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});c.displayName=i.UC.displayName},29602:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(43463),a=r(69795);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},75828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let n=r(89603),a=r(33355),i=r(34979).createServerReference},31027:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var n=r(43463);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.$,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:l}=t,o=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==l?void 0:l[e];if(null===t)return null;let i=a(t)||a(n);return s[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},e=>{var t=t=>e(e.s=t);e.O(0,[181,173,888,799,441,517,358],()=>t(63551)),_N_E=e.O()}]);