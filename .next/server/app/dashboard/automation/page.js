(()=>{var e={};e.id=673,e.ids=[673],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},33873:e=>{"use strict";e.exports=require("path")},64939:e=>{"use strict";e.exports=import("pg")},4573:e=>{"use strict";e.exports=require("node:buffer")},77598:e=>{"use strict";e.exports=require("node:crypto")},57975:e=>{"use strict";e.exports=require("node:util")},22807:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o});var t=s(70260),r=s(28203),l=s(25155),n=s.n(l),i=s(67292),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(a,d);let o=["",{children:["dashboard",{children:["automation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75109)),"/Volumes/Extreme SSD/Aro Desk/app/dashboard/automation/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,83748)),"/Volumes/Extreme SSD/Aro Desk/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,19611)),"/Volumes/Extreme SSD/Aro Desk/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["/Volumes/Extreme SSD/Aro Desk/app/dashboard/automation/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/automation/page",pathname:"/dashboard/automation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},89960:(e,a,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{"0004aa8566c1f3e312cb7f3e3813d6157b8fb58a8b":()=>r.VM,"005425e0a812709ce540c323e485343a1ac42fce8e":()=>l.Q1,"007c7f942aadb8dbc8cc2b6b30f60982431f70127f":()=>r.Kd,"009a4985819b97b4be2fe1cdb32c9df11877379ad4":()=>r.Ht,"00b79742bcbf00dfdf85e2af52cbbed0924121a839":()=>l.ND,"00c51daf9dff5a256b21999797c4e988b3e5114375":()=>l.HB,"00d355824c03bd8e1cb0730e5dd1e86a630707aa5b":()=>l.hd,"00dc1677d24c5ceadcc7273a31ef52a63def6788d0":()=>l.mf,"402950729f574cd9671c0cabe09d6b2f7bc109631e":()=>l.P4,"402d0d22c145eada57fb25e0c590e564864c8c79b2":()=>l.qO,"404277a33f7cb0ce1f7247add59deea9a766c2d7db":()=>r.Lz,"408c42a796b1bf12ec0a4ee124c2f68213455f2758":()=>l.o2,"40982a859ec3c46a1b6607285e686490468d9e8108":()=>r.zP,"40a26f5e0a796fc4965d4d28aa51508a107d704968":()=>l.xP,"40ac348b21dd335ce9d63d26c1939b25abc541f965":()=>l.yW,"40bd541fc16e4b03c33c1297531f2e89d59c364b4e":()=>r.RX,"70d502ab1ee2046d48b5b61eec9c7acffedf7bbd95":()=>l.N9});var r=s(35603),l=s(13311),n=e([r,l]);[r,l]=n.then?(await n)():n,t()}catch(e){t(e)}})},31950:(e,a,s)=>{Promise.resolve().then(s.bind(s,28830)),Promise.resolve().then(s.bind(s,36805))},71702:(e,a,s)=>{Promise.resolve().then(s.bind(s,12873)),Promise.resolve().then(s.bind(s,69193))},12873:(e,a,s)=>{"use strict";s.d(a,{TriggerBuilder:()=>f});var t=s(45512),r=s(58009),l=s(97643),n=s(87021),i=s(25409),d=s(47699),o=s(48859),c=s(54069);let m=(0,s(41680).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var p=s(18741),u=s(49656);let x=[{value:"health_score_drop",label:"Health Score Drops Below"},{value:"stage_change",label:"Account Moves to Stage"},{value:"usage_decline",label:"Usage Declining"},{value:"support_spike",label:"Support Ticket Spike"},{value:"contract_approaching",label:"Contract End Date Approaching"}],h=[{value:"slack_notification",label:"Send Slack Notification"},{value:"email_notification",label:"Send Email Alert"},{value:"create_task",label:"Create CSM Task"},{value:"escalate_to_manager",label:"Escalate to Manager"},{value:"webhook_call",label:"Call External Webhook"}];function f(){let[e,a]=(0,r.useState)(""),[s,f]=(0,r.useState)({}),[b,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(""),[j,N]=(0,r.useState)({}),[w,k]=(0,r.useState)(""),[T,C]=(0,r.useState)(""),A=e=>{g(b.filter(a=>a.id!==e))},R=async()=>{if(!w.trim()){alert("Playbook name is required");return}if(!e){alert("Please select a trigger type");return}if(0===b.length){alert("Please add at least one action");return}console.log("Creating playbook:",{name:w,description:T,trigger:{type:e,params:s},actions:b}),alert("Playbook created successfully! (Demo)")};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Playbook Configuration"}),(0,t.jsx)(l.BT,{children:'Create an "If-This-Then-That" automation workflow'})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"playbook-name",children:"Playbook Name"}),(0,t.jsx)(i.p,{id:"playbook-name",value:w,onChange:e=>k(e.target.value),placeholder:"e.g., Health Score Alert"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"playbook-desc",children:"Description"}),(0,t.jsx)(o.T,{id:"playbook-desc",value:T,onChange:e=>C(e.target.value),placeholder:"What does this playbook do?",rows:3})]}),(0,t.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-5 w-5 text-orange-500"}),(0,t.jsx)("h3",{className:"font-semibold",children:"IF THIS HAPPENS:"})]}),(0,t.jsxs)("div",{className:"space-y-4 ml-7",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"trigger",children:"Trigger Type"}),(0,t.jsxs)(c.l6,{value:e,onValueChange:a,children:[(0,t.jsx)(c.bq,{id:"trigger",children:(0,t.jsx)(c.yv,{placeholder:"Select a trigger..."})}),(0,t.jsx)(c.gC,{children:x.map(e=>(0,t.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})]}),(e=>{switch(e){case"health_score_drop":return[{name:"threshold",label:"Health Score Threshold",type:"number",placeholder:"50"},{name:"duration",label:"Time Window (hours)",type:"number",placeholder:"24"}];case"stage_change":return[{name:"stage",label:"Stage Name",type:"text",placeholder:"e.g., At Risk"}];case"contract_approaching":return[{name:"days_before",label:"Days Before Expiration",type:"number",placeholder:"30"}];default:return[]}})(e).map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:e.name,children:e.label}),"textarea"===e.type?(0,t.jsx)(o.T,{id:e.name,value:s[e.name]||"",onChange:a=>f({...s,[e.name]:a.target.value}),placeholder:e.placeholder}):(0,t.jsx)(i.p,{id:e.name,type:e.type,value:s[e.name]||"",onChange:a=>f({...s,[e.name]:"number"===e.type?parseInt(a.target.value):a.target.value}),placeholder:e.placeholder})]},e.name))]})]}),(0,t.jsxs)("div",{className:"space-y-4 p-4 border rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"THEN DO THIS:"}),(0,t.jsxs)("div",{className:"space-y-4 ml-4",children:[(0,t.jsxs)("div",{className:"space-y-3 p-3 bg-white dark:bg-slate-800 rounded border",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"action",children:"Action Type"}),(0,t.jsxs)(c.l6,{value:v,onValueChange:y,children:[(0,t.jsx)(c.bq,{id:"action",children:(0,t.jsx)(c.yv,{placeholder:"Select an action..."})}),(0,t.jsx)(c.gC,{children:h.map(e=>(0,t.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})]}),(e=>{switch(e){case"slack_notification":return[{name:"channel",label:"Slack Channel",type:"text",placeholder:"#success-alerts"},{name:"message",label:"Message",type:"textarea",placeholder:"Alert message..."}];case"email_notification":return[{name:"recipients",label:"Email Recipients (comma-separated)",type:"text",placeholder:"csm@example.com"},{name:"subject",label:"Email Subject",type:"text",placeholder:"Account Alert"}];case"webhook_call":return[{name:"url",label:"Webhook URL",type:"text",placeholder:"https://example.com/webhook"},{name:"method",label:"HTTP Method",type:"text",placeholder:"POST"}];default:return[]}})(v).map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:`action-${e.name}`,children:e.label}),"textarea"===e.type?(0,t.jsx)(o.T,{id:`action-${e.name}`,value:j[e.name]||"",onChange:a=>N({...j,[e.name]:a.target.value}),placeholder:e.placeholder}):(0,t.jsx)(i.p,{id:`action-${e.name}`,type:e.type,value:j[e.name]||"",onChange:a=>N({...j,[e.name]:a.target.value}),placeholder:e.placeholder})]},e.name)),(0,t.jsxs)(n.$,{onClick:()=>{if(!v){alert("Please select an action type");return}g([...b,{id:crypto.randomUUID(),type:v,params:j}]),y(""),N({})},className:"w-full",variant:"outline",children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Add Action"]})]}),b.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:b.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-800 rounded border",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:h.find(a=>a.value===e.type)?.label}),Object.keys(e.params).length>0&&(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:JSON.stringify(e.params)})]}),(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>A(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})]},e.id))})]})]}),(0,t.jsx)(n.$,{onClick:R,className:"w-full",size:"lg",disabled:!w||!e||0===b.length,children:"Create Playbook"})]})]}),w&&e&&b.length>0&&(0,t.jsxs)(l.Zp,{className:"border-green-200 dark:border-green-900 bg-green-50 dark:bg-green-900/10",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-green-700 dark:text-green-400",children:"Preview"})}),(0,t.jsxs)(l.Wu,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-green-700 dark:text-green-400",children:w}),T&&(0,t.jsx)("p",{className:"text-green-600 dark:text-green-300 text-xs mt-1",children:T})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"When:"}),(0,t.jsx)("code",{className:"block bg-white dark:bg-slate-800 p-2 rounded text-xs overflow-auto",children:x.find(a=>a.value===e)?.label})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Execute:"}),(0,t.jsx)("div",{className:"space-y-1",children:b.map(e=>(0,t.jsx)("code",{className:"block bg-white dark:bg-slate-800 p-2 rounded text-xs",children:h.find(a=>a.value===e.type)?.label},e.id))})]})]})]})]})}},87021:(e,a,s)=>{"use strict";s.d(a,{$:()=>o});var t=s(45512),r=s(58009),l=s(12705),n=s(21643),i=s(59462);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef(({className:e,variant:a,size:s,asChild:r=!1,...n},o)=>{let c=r?l.DX:"button";return(0,t.jsx)(c,{className:(0,i.cn)(d({variant:a,size:s,className:e})),ref:o,...n})});o.displayName="Button"},97643:(e,a,s)=>{"use strict";s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var t=s(45512),r=s(58009),l=s(59462);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...a}));n.displayName="Card";let i=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},25409:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(45512),r=s(58009),l=s(59462);let n=r.forwardRef(({className:e,type:a,...s},r)=>(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));n.displayName="Input"},47699:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var t=s(45512),r=s(58009),l=s(92405),n=s(21643),i=s(59462);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.b,{ref:s,className:(0,i.cn)(d(),e),...a}));o.displayName=l.b.displayName},54069:(e,a,s)=>{"use strict";s.d(a,{bq:()=>p,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>m});var t=s(45512),r=s(58009),l=s(59039),n=s(98755),i=s(28638),d=s(24849),o=s(59462);let c=l.bL;l.YJ;let m=l.WT,p=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.l9,{ref:r,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=l.l9.displayName;let u=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})}));u.displayName=l.PP.displayName;let x=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=l.wn.displayName;let h=r.forwardRef(({className:e,children:a,position:s="popper",...r},n)=>(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:n,className:(0,o.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[(0,t.jsx)(u,{}),(0,t.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(x,{})]})}));h.displayName=l.UC.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",e),...a})).displayName=l.JU.displayName;let f=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.q7,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,t.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:a})]}));f.displayName=l.q7.displayName,r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.wv.displayName},69193:(e,a,s)=>{"use strict";s.d(a,{Tabs:()=>i,TabsContent:()=>c,TabsList:()=>d,TabsTrigger:()=>o});var t=s(45512),r=s(58009),l=s(41046),n=s(59462);let i=l.bL,d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.B8,{ref:s,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...a}));d.displayName=l.B8.displayName;let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...a}));o.displayName=l.l9.displayName;let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)(l.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));c.displayName=l.UC.displayName},48859:(e,a,s)=>{"use strict";s.d(a,{T:()=>n});var t=s(45512),r=s(58009),l=s(59462);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));n.displayName="Textarea"},75109:(e,a,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(a),s.d(a,{default:()=>g});var r=s(62740),l=s(13311),n=s(19935),i=s(52216),d=s(36805),o=s(39909),c=s(28830),m=s(45366),p=s(18470),u=s(12503),x=s(13244),h=s(3492),f=s(46655),b=e([l]);async function g(){let[e,a]=await Promise.all([(0,l.HB)(),(0,l.xP)()]),s=a.filter(e=>"pending"===e.status),t=a.filter(e=>"completed"===e.status),b=a.filter(e=>"failed"===e.status);return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Automation Engine"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Create SuccessPlays to automate customer engagement and drive outcomes"})]}),(0,r.jsxs)(d.Tabs,{defaultValue:"playbooks",className:"w-full",children:[(0,r.jsxs)(d.TabsList,{className:"grid w-full grid-cols-3",children:[(0,r.jsxs)(d.TabsTrigger,{value:"playbooks",className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),"Playbooks"]}),(0,r.jsxs)(d.TabsTrigger,{value:"triggers",className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),"Trigger Builder"]}),(0,r.jsxs)(d.TabsTrigger,{value:"logs",className:"flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),"Execution Logs"]})]}),(0,r.jsx)(d.TabsContent,{value:"playbooks",className:"space-y-6",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Active Playbooks"}),(0,r.jsx)(n.BT,{children:"Automated workflows that execute when trigger conditions are met"})]}),(0,r.jsx)(n.Wu,{children:0===e.length?(0,r.jsx)("p",{className:"text-sm text-slate-500 text-center py-8",children:"No playbooks configured yet. Create one using the Trigger Builder."}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:e.description})]}),(0,r.jsx)(i.E,{className:e.is_active?"bg-green-500":"bg-slate-500",children:e.is_active?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-3 pt-3 border-t",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Total Executions"}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.total_executions||0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Last 7 Days"}),(0,r.jsx)("p",{className:"text-lg font-bold",children:e.executions_last_7_days||0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Last Executed"}),(0,r.jsx)("p",{className:"text-sm",children:e.last_executed_at?(0,f.GP)(new Date(e.last_executed_at),"MMM dd, h:mm a"):"Never"})]})]}),(0,r.jsxs)("div",{className:"pt-3 border-t",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Trigger Condition:"}),(0,r.jsx)("code",{className:"text-xs bg-slate-100 dark:bg-slate-900 p-2 rounded block",children:JSON.stringify(e.trigger_criteria,null,2)})]}),e.webhook_url&&(0,r.jsxs)("div",{className:"pt-3 border-t",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-slate-500 mb-2",children:"Webhook URL:"}),(0,r.jsx)("code",{className:"text-xs bg-slate-100 dark:bg-slate-900 p-2 rounded block break-all",children:e.webhook_url})]})]},e.id))})})]})}),(0,r.jsx)(d.TabsContent,{value:"triggers",className:"space-y-6",children:(0,r.jsx)(c.TriggerBuilder,{})}),(0,r.jsxs)(d.TabsContent,{value:"logs",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-yellow-500"}),"Pending"]})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.length}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"awaiting delivery"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-green-500"}),"Successful"]})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"successfully delivered"})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{className:"pb-2",children:(0,r.jsxs)(n.ZB,{className:"text-sm font-medium flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-red-500"}),"Failed"]})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:b.length}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"delivery failed"})]})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Recent Webhook Queue"}),(0,r.jsx)(n.BT,{children:"All queued and completed webhook executions"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)(o.XI,{children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"Playbook"}),(0,r.jsx)(o.nd,{children:"Account"}),(0,r.jsx)(o.nd,{children:"Status"}),(0,r.jsx)(o.nd,{children:"Created"}),(0,r.jsx)(o.nd,{children:"Attempts"})]})}),(0,r.jsx)(o.BF,{children:0===a.length?(0,r.jsx)(o.Hj,{children:(0,r.jsx)(o.nA,{colSpan:5,className:"text-center py-8 text-slate-500",children:"No webhook executions recorded yet"})}):a.map(e=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{className:"font-medium",children:e.playbook_name||"Unknown"}),(0,r.jsx)(o.nA,{children:e.account_name||"Unknown"}),(0,r.jsx)(o.nA,{children:(0,r.jsx)(i.E,{className:"pending"===e.status?"bg-yellow-500":"completed"===e.status?"bg-green-500":"bg-red-500",children:e.status})}),(0,r.jsx)(o.nA,{className:"text-sm text-slate-500",children:(0,f.GP)(new Date(e.created_at),"MMM dd, h:mm a")}),(0,r.jsxs)(o.nA,{className:"text-sm",children:[e.attempts,"/",e.max_attempts]})]},e.id))})]})})]})]})]})]})}l=(b.then?(await b)():b)[0],t()}catch(e){t(e)}})},28830:(e,a,s)=>{"use strict";s.d(a,{TriggerBuilder:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call TriggerBuilder() from the server but TriggerBuilder is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Extreme SSD/Aro Desk/components/trigger-builder.tsx","TriggerBuilder")},52216:(e,a,s)=>{"use strict";s.d(a,{E:()=>i});var t=s(62740);s(76301);var r=s(67699),l=s(55946);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...s}){return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:a}),e),...s})}},19935:(e,a,s)=>{"use strict";s.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=s(62740),r=s(76301),l=s(55946);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...a}));n.displayName="Card";let i=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("h3",{ref:s,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},39909:(e,a,s)=>{"use strict";s.d(a,{A0:()=>i,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>c});var t=s(62740),r=s(76301),l=s(55946);let n=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));n.displayName="Table";let i=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...a}));i.displayName="TableHeader";let d=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));d.displayName="TableBody",r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));m.displayName="TableCell",r.forwardRef(({className:e,...a},s)=>(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},36805:(e,a,s)=>{"use strict";s.d(a,{Tabs:()=>r,TabsContent:()=>i,TabsList:()=>l,TabsTrigger:()=>n});var t=s(46760);let r=(0,t.registerClientReference)(function(){throw Error("Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Extreme SSD/Aro Desk/components/ui/tabs.tsx","Tabs"),l=(0,t.registerClientReference)(function(){throw Error("Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Extreme SSD/Aro Desk/components/ui/tabs.tsx","TabsList"),n=(0,t.registerClientReference)(function(){throw Error("Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Extreme SSD/Aro Desk/components/ui/tabs.tsx","TabsTrigger"),i=(0,t.registerClientReference)(function(){throw Error("Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Volumes/Extreme SSD/Aro Desk/components/ui/tabs.tsx","TabsContent")},55946:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(13673),r=s(47317);function l(...e){return(0,r.QP)((0,t.$)(e))}},18470:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(83238).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},13244:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(83238).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},3492:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(83238).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},92405:(e,a,s)=>{"use strict";s.d(a,{b:()=>i});var t=s(58009),r=s(30830),l=s(45512),n=t.forwardRef((e,a)=>(0,l.jsx)(r.sG.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var i=n},21643:(e,a,s)=>{"use strict";s.d(a,{F:()=>n});var t=s(82281);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=t.$,n=(e,a)=>s=>{var t;if((null==a?void 0:a.variants)==null)return l(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:n,defaultVariants:i}=a,d=Object.keys(n).map(e=>{let a=null==s?void 0:s[e],t=null==i?void 0:i[e];if(null===a)return null;let l=r(a)||r(t);return n[e][l]}),o=s&&Object.entries(s).reduce((e,a)=>{let[s,t]=a;return void 0===t||(e[s]=t),e},{});return l(e,d,null==a?void 0:null===(t=a.compoundVariants)||void 0===t?void 0:t.reduce((e,a)=>{let{class:s,className:t,...r}=a;return Object.entries(r).every(e=>{let[a,s]=e;return Array.isArray(s)?s.includes({...i,...o}[a]):({...i,...o})[a]===s})?[...e,s,t]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[638,720,145,464,527,461,844,226],()=>s(22807));module.exports=t})();